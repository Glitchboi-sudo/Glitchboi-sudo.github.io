/* ===== TOKENS ===== */
:root{
  --bg:#f7ece6; --paper:#ffffff; --ink:#0b0b0b; --muted:#4d4d4d;
  --bar:#0b0b0b; --rule:#d9d9d9; --brand:#000;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --max:960px;
}
@media (prefers-color-scheme:dark){
  :root{ --bg:#0d0d0f; --paper:#0d0d0f; --ink:#f2f2f2; --muted:#a7a7a7; --bar:#f2f2f2; --rule:#1b2229; --brand:#fff; }
}
[data-theme="light"]{ --bg:#f7ece6; --paper:#ffffff; --ink:#0b0b0b; --muted:#4d4d4d; --bar:#0b0b0b; --rule:#d9d9d9; --brand:#000; }
[data-theme="dark"]{ --bg:#0d0d0f; --paper:#0d0d0f; --ink:#f2f2f2; --muted:#a7a7a7; --bar:#f2f2f2; --rule:#1b2229; --brand:#fff; }

/* ===== BASE ===== */
*{ box-sizing:border-box }
html,body{ height:100% }
body{ margin:0; background:var(--bg); color:var(--ink); font-family:var(--mono); line-height:1.45 }
.container{ max-width:var(--max); margin:0 auto; padding:0 16px }
hr.rule{ border:0; border-top:1px solid var(--rule); margin:14px 0 }

/* ===== ENLACES CON RESALTADO CONTRASTE ===== */
a{
  color:inherit; text-decoration:none; position:relative;
  border:1px solid transparent; border-radius:4px; padding:1px 4px;
  transition: background .15s ease, color .15s ease, box-shadow .15s ease, border-color .15s ease;
  box-decoration-break: clone;
}
a:hover, a:focus-visible{
  background:var(--ink); color:var(--paper);
  border-color:var(--ink);
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--ink) 20%, transparent);
  outline: 0;
}

/* ===== HEADER / DOSSIER ===== */
.header{ position:relative; padding:24px 0 8px; }
.logoX{
  width:100px;
  height:auto;
  margin:0 auto 10px;
  display:block;
  color:var(--brand);
}
.logoX * { fill: currentColor; }
[data-theme="dark"] .logoX{ filter: invert(1); }
.top-marks{ display:flex; justify-content:space-between; font-size:12px; color:var(--muted); letter-spacing:.06em }
.bar{ height:10px; background:var(--bar); margin:16px 0 6px }

/* ===== TÍTULO GLITCH ===== */
.title{
  position:relative; font-weight:900; font-size:clamp(22px,6vw,40px);
  text-transform:uppercase; letter-spacing:.06em; margin:6px 0 4px;
  isolation:isolate;
}
.title[data-glitch]::before,
.title[data-glitch]::after{
  content:attr(data-glitch);
  position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen;
}
.title[data-glitch]::before{ color:#b4f9f9; transform:translate(1px,-1px); clip-path:inset(0 0 0 0); }
.title[data-glitch]::after { color:#f591ba; transform:translate(-1px,1px); clip-path:inset(0 0 0 0); }
@keyframes g-jitter{
  0%{ transform:translate(0) }
  10%{ transform:translate(1px,-1px) skewX(0.3deg) }
  20%{ transform:translate(-1px,1px) }
  30%{ transform:translate(1px,1px) }
  40%{ transform:translate(-1px,-1px) }
  50%{ transform:translate(0) }
  100%{ transform:translate(0) }
}
@keyframes g-slice{
  0%{ clip-path: inset(0 0 85% 0) }
  10%{ clip-path: inset(15% 0 60% 0) }
  20%{ clip-path: inset(40% 0 35% 0) }
  30%{ clip-path: inset(65% 0 10% 0) }
  40%,100%{ clip-path: inset(0 0 0 0) }
}
.title{ animation: g-jitter 2.2s steps(12) infinite; }
.title::before, .title::after{ animation: g-slice 3s steps(20) infinite; }
.title:hover{ animation-duration: 0.8s } /* burst en hover */

/* ===== SUBHEAD ===== */
.kicker{ text-transform:uppercase; font-weight:700; letter-spacing:.12em; font-size:13px; }

/* ===== GRID ===== */
.grid{ display:grid; grid-template-columns:1fr; gap:16px; }
@media(min-width:800px){ .grid{ grid-template-columns: 1.1fr .9fr; }}

.label{font-size:12px; text-transform:uppercase; letter-spacing:.12em; margin:14px 0 6px;}
.block{ border:1px solid var(--ink); background:var(--ink); color:var(--paper); padding:8px 12px; font-weight:700; display:inline-block; font-size:14px; }

/* ===== TABLA / DOTFILL ===== */
.table{ width:100%; border-collapse:collapse; font-size:14px }
.table tr{ border-bottom:1px solid var(--rule) }
.table th{ text-align:left; font-weight:700; padding:8px 0; font-size:12px; letter-spacing:.08em; text-transform:uppercase; }
.table td{ padding:8px 0; }
.dotfill{ display:flex; align-items:center; gap:8px }
.dotfill span:first-child{ white-space:nowrap }
.dotfill i{ flex:1; height:1em; border-bottom:1px dotted var(--ink); transform: translateY(-.2em); }
.badge{ display:inline-block; background:var(--ink); color:var(--paper); padding:4px 8px; font-size:12px }

/* ===== CARDS PROYECTOS ===== */
.cards{ display:grid; grid-template-columns:1fr; gap:12px }
@media(min-width:700px){ .cards{ grid-template-columns:1fr 1fr } }
.card{ border:1px solid var(--ink); padding:12px; background:var(--paper); }
.progress{ height:8px; background:transparent; border:1px solid var(--ink); }
.progress > i{ display:block; height:100%; width:var(--w,50%); background:var(--ink) }

/* ===== FOOTER / TOGGLE ===== */
.footer{ font-size:12px; color:var(--muted); padding:28px 0 40px }
.toggle{ border:1px solid var(--ink); background:transparent; color:var(--ink); padding:6px 10px; font-weight:700; cursor:pointer; font-family:var(--mono); }
.toggle:focus-visible{ outline:2px solid var(--ink); outline-offset:2px }

/* === Descripción truncada y altura uniforme === */
.desc{
  display: -webkit-box;
  -webkit-line-clamp: 3;      /* WebKit/Blink */
  line-clamp: 3;              /* Soporte moderno */
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  min-height: calc(1.45em * 3); /* mantiene altura pareja en las cards */
}

.card{ min-height: 160px; }
.card-link{
  display:block;
  color:inherit;
  text-decoration:none;
  transition: transform .12s ease, box-shadow .12s ease;
}
.card-link:hover, .card-link:focus-visible{
  transform: translateY(-1px);
  box-shadow: 0 8px 20px color-mix(in oklab, var(--ink) 15%, transparent);
  outline: none;
}
