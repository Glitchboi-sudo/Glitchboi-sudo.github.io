/* ===== GOOGLE FONTS - SPACE MONO ===== */
@import url("https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap");

/* ===== TOKENS - TUI SOBRECARGADA ===== */
:root {
  /* Paleta oscura por defecto - Estilo TUI Terminal */
  --bg: #000000;
  --paper: #0a0a0a;
  --ink: #e0e0e0;
  --muted: #666666;
  --bar: #e0e0e0;
  --rule: #333333;
  --brand: #fffbf1;

  /* Colores técnicos para indicadores */
  --tech-green: #00ff41;
  --tech-amber: #ffb000;
  --tech-cyan: #00d4ff;
  --tech-red: #ff4444;

  /* Tamaños de fuente técnicos */
  --font-micro: 9px;
  --font-tiny: 10px;
  --font-small: 11px;

  --mono: "Space Mono", "Courier New", Courier, ui-monospace, monospace;
  --max: 960px;
}

/* Modo claro automático (ahora es la excepción) */
@media (prefers-color-scheme: light) {
  :root {
    --bg: #fffbf1;
    --paper: #f1f2ee;
    --ink: #0a0a0a;
    --muted: #555555;
    --bar: #0a0a0a;
    --rule: #cccccc;
    --brand: #000000;
  }
}

/* Tema claro manual */
[data-theme="light"] {
  --bg: #fffbf1;
  --paper: #f1f2ee;
  --ink: #0a0a0a;
  --muted: #555555;
  --bar: #0a0a0a;
  --rule: #cccccc;
  --brand: #000000;
}

/* Tema oscuro manual */
[data-theme="dark"] {
  --bg: #000000;
  --paper: #0a0a0a;
  --ink: #e0e0e0;
  --muted: #666666;
  --bar: #e0e0e0;
  --rule: #333333;
  --brand: #fffbf1;
}

/* ===== BASE - TUI CLEAN STYLE ===== */
* {
  box-sizing: border-box;
}
html,
body {
  height: 100%;
  overflow-x: hidden;
}
body {
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  font-family: var(--mono);
  line-height: 1.45;
  font-size: 14px;
}
.container {
  max-width: var(--max);
  margin: 0 auto;
  padding: 0 16px;
  width: 100%;
}
hr.rule {
  border: 0;
  border-top: 1px solid var(--rule);
  margin: 14px 0;
}

/* Responsive typography */
@media (max-width: 600px) {
  body {
    font-size: 13px;
  }
  .container {
    padding: 0 12px;
  }
}

/* ===== RESPONSIVE BREAKPOINTS ===== */

/* Mobile small: < 480px */
@media (max-width: 480px) {
  body {
    font-size: 12px;
  }
  .container {
    padding: 0 10px;
  }

  /* Header ajustado para móvil */
  .header {
    padding: 16px 12px;
  }
  .logoX {
    width: 80px;
  }

  /* Título más pequeño en móvil */
  .title {
    font-size: clamp(18px, 5vw, 28px);
    margin: 4px 0 2px;
  }

  /* Top marks apilados */
  .top-marks {
    flex-direction: column;
    align-items: center;
    gap: 4px;
    font-size: 10px;
  }

  /* Kicker más pequeño */
  .kicker {
    font-size: 11px;
  }

  /* Botones y badges apilados */
  .header > div:last-child {
    flex-direction: column !important;
    width: 100%;
  }
  .header > div:last-child > div {
    display: flex;
    flex-direction: column;
    width: 100%;
    gap: 6px !important;
  }
  .toggle,
  .badge {
    width: 100%;
    text-align: center;
    padding: 8px 10px;
    font-size: 12px;
  }

  /* Cards ajustadas */
  .card {
    min-height: 140px;
    padding: 10px;
  }
  .card::before,
  .card::after {
    font-size: 8px;
  }

  /* Tablas scroll horizontal */
  .table {
    font-size: 12px;
    display: block;
    overflow-x: auto;
  }
  .table th,
  .table td {
    padding: 8px 6px;
    font-size: 11px;
  }

  /* Dotfill ajustado */
  .dotfill {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
  }
  .dotfill i {
    display: none;
  }

  /* Labels más pequeños */
  .label {
    font-size: 10px;
    margin: 10px 0 4px;
  }

  /* Blocks en móvil */
  .block {
    font-size: 12px;
    padding: 6px 10px;
    display: block;
    text-align: center;
  }

  /* Progress bar más pequeña */
  .progress {
    height: 6px;
  }

  /* Footer compacto */
  .footer {
    font-size: 11px;
    padding: 20px 0 30px;
  }
}

/* Tablet: 481px - 768px */
@media (min-width: 481px) and (max-width: 768px) {
  .header {
    padding: 18px;
  }
  .logoX {
    width: 90px;
  }

  .title {
    font-size: clamp(20px, 5.5vw, 32px);
  }

  .top-marks {
    font-size: 11px;
  }

  .toggle,
  .badge {
    font-size: 13px;
    padding: 7px 10px;
  }

  .card {
    min-height: 150px;
  }

  .table {
    font-size: 13px;
  }
}

/* Desktop small: 769px - 1024px */
@media (min-width: 769px) and (max-width: 1024px) {
  .container {
    max-width: 720px;
  }
  .header {
    padding: 20px;
  }
}

/* ===== ASCII DECORATIONS RESPONSIVE ===== */

/* ASCII banners - scroll horizontal en móvil pequeño */
@media (max-width: 480px) {
  /* Utility classes */
  .ascii-banner,
  .ascii-separator,
  .ascii-box-header {
    font-size: 8px;
  }

  /* Permitir scroll horizontal solo para banners ASCII (inline styles) */
  .header > div[style*="font-size: 10px"],
  .header > div[style*="font-size: 11px"] {
    font-size: 8px !important;
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
  }

  /* Ocultar scrollbar pero mantener funcionalidad */
  .header > div[style*="font-size: 10px"]::-webkit-scrollbar,
  .header > div[style*="font-size: 11px"]::-webkit-scrollbar {
    height: 0px;
  }

  /* Separadores ASCII ajustados (inline styles) */
  section > div[style*="font-size: 10px"] {
    font-size: 8px !important;
  }
}

/* Tablet: reducir ligeramente ASCII */
@media (min-width: 481px) and (max-width: 768px) {
  .ascii-banner,
  .ascii-separator,
  .ascii-box-header {
    font-size: 9px;
  }

  .header > div[style*="font-size: 10px"] {
    font-size: 9px !important;
  }
}

/* ===== TOUCH TARGETS OPTIMIZATION ===== */
@media (max-width: 768px) {
  /* Links con áreas de toque más grandes */
  a {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
  }

  /* Botones con áreas de toque adecuadas */
  .toggle {
    min-height: 44px;
    min-width: 44px;
  }

  /* Card links optimizados para toque */
  .card-link {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  }
}

/* ===== TERMINAL FX RESPONSIVE ===== */

/* Matrix rain canvas (easter egg) */
#matrix-rain {
  width: 100vw !important;
  height: 100vh !important;
}

/* ===== NOTIFICATIONS RESPONSIVE ===== */
@media (max-width: 480px) {
  /* Notificaciones del sistema (terminal-fx.js) */
  #terminal-notification {
    top: 10px !important;
    right: 10px !important;
    left: 10px !important;
    max-width: calc(100% - 20px) !important;
    padding: 12px 16px !important;
    font-size: 11px !important;
  }

  #terminal-notification > div:first-child,
  #terminal-notification > div:last-child {
    font-size: 8px !important;
  }
}

@media (min-width: 481px) and (max-width: 768px) {
  #terminal-notification {
    max-width: 350px !important;
    font-size: 12px !important;
  }
}

/* ===== LANDSCAPE MOBILE OPTIMIZATION ===== */
@media (max-height: 500px) and (orientation: landscape) {
  .header {
    padding: 12px;
  }
  .logoX {
    width: 70px;
    margin: 0 auto 8px;
  }
  .title {
    font-size: clamp(16px, 4vw, 24px);
  }
  .footer {
    padding: 16px 0 24px;
  }

  /* Notificaciones más pequeñas en landscape */
  #terminal-notification {
    top: 8px !important;
    right: 8px !important;
    padding: 10px 14px !important;
    font-size: 11px !important;
  }
}

/* ===== ENLACES TUI CLEAN ===== */
a {
  color: inherit;
  text-decoration: none;
  position: relative;
  border: 1px solid transparent;
  border-radius: 0;
  padding: 2px 6px;
  transition: all 0.15s ease;
  box-decoration-break: clone;
  background: transparent;
}
a::before {
  content: ">";
  margin-right: 4px;
  opacity: 0;
  transition: opacity 0.15s ease;
}
a:hover,
a:focus-visible {
  background: var(--ink);
  color: var(--paper);
  border-color: var(--ink);
  outline: 0;
}
a:hover::before,
a:focus-visible::before {
  opacity: 1;
}

/* ===== HEADER / DOSSIER - TUI CLEAN ===== */
.header {
  position: relative;
  padding: 20px;
  border: 1px solid var(--rule);
  border-radius: 0;
  background: var(--paper);
  margin-bottom: 20px;
}
.logoX {
  width: 100px;
  height: auto;
  margin: 0 auto 10px;
  display: block;
  color: var(--brand);
}
.logoX * {
  fill: currentColor;
}
[data-theme="dark"] .logoX {
  filter: invert(1);
}
.top-marks {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  color: var(--muted);
  letter-spacing: 0.06em;
  font-weight: 700;
}
.bar {
  height: 2px;
  background: var(--bar);
  margin: 16px 0 6px;
}

/* ===== TÍTULO - TUI CLEAN ===== */
.title {
  position: relative;
  font-weight: 900;
  font-size: clamp(22px, 6vw, 40px);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  margin: 6px 0 4px;
  isolation: isolate;
  color: var(--ink);
}

/* ===== SUBHEAD ===== */
.kicker {
  text-transform: uppercase;
  font-weight: 700;
  letter-spacing: 0.12em;
  font-size: 13px;
  color: var(--muted);
}

/* ===== GRID ===== */
.grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
}
@media (min-width: 800px) {
  .grid {
    grid-template-columns: 1fr 1fr;
    gap: 24px;
  }
}

/* Grid responsivo ajustado */
@media (max-width: 799px) {
  .grid {
    gap: 12px;
  }
}
@media (max-width: 480px) {
  .grid {
    gap: 10px;
  }
}

.label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  margin: 14px 0 6px;
  font-weight: 700;
}
.block {
  border: 1px solid var(--ink);
  background: var(--ink);
  color: var(--paper);
  padding: 8px 12px;
  font-weight: 700;
  display: inline-block;
  font-size: 14px;
  transition: all 0.15s ease;
}
.block:hover {
  background: var(--paper);
  color: var(--ink);
}

/* ===== TABLA / DOTFILL ===== */
.table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  border: 1px solid var(--rule);
  background: var(--paper);
}
.table tr {
  border-bottom: 1px solid var(--rule);
}
.table th {
  text-align: left;
  font-weight: 700;
  padding: 10px 8px;
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  border-bottom: 2px solid var(--ink);
}
.table td {
  padding: 10px 8px;
}
.dotfill {
  display: flex;
  align-items: center;
  gap: 8px;
}
.dotfill span:first-child {
  white-space: nowrap;
  font-weight: 700;
}
.dotfill i {
  flex: 1;
  height: 1em;
  border-bottom: 1px dotted var(--ink);
  transform: translateY(-0.2em);
}
.badge {
  display: inline-block;
  background: var(--ink);
  color: var(--paper);
  padding: 4px 8px;
  font-size: 12px;
  border: 1px solid var(--ink);
  font-weight: 700;
}

/* ===== CARDS PROYECTOS - TUI CLEAN ===== */
.cards {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
}

/* En el grid principal, las cards dentro de windows se mantienen en 1 columna para mejor legibilidad */
.window .cards {
  grid-template-columns: 1fr;
  gap: 12px;
}

/* Cards más grandes y con más contenido visible en desktop */
.window .cards .card {
  min-height: 140px;
  padding: 14px;
}

.window .cards .card .desc {
  -webkit-line-clamp: 4;
  min-height: calc(1.45em * 4);
}

/* Solo en páginas sin grid principal (blog, projects detail), usar 2 columnas */
@media (min-width: 700px) {
  main > .cards,
  section > .cards:not(.window .cards) {
    grid-template-columns: 1fr 1fr;
  }
}

/* Separador entre proyectos */
.cards .card-link:not(:last-child)::after {
  content: "";
  display: block;
  text-align: center;
  margin: 20px auto 0;
  width: 100%;
  max-width: 200px;
  height: 1px;
  background: linear-gradient(to right, transparent, var(--rule), transparent);
  opacity: 0.5;
}

/* En grid de 2 columnas, separadores solo en pares */
@media (min-width: 700px) {
  .cards .card-link:not(:last-child)::after {
    display: none;
  }

  /* Separador horizontal entre filas en grid 2 columnas */
  .cards .card-link:nth-last-child(n + 3)::before {
    content: "";
    position: absolute;
    bottom: -12px;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      to right,
      transparent,
      var(--rule),
      transparent
    );
    opacity: 0.3;
    z-index: -1;
  }
}

/* Cards responsivo */
@media (max-width: 480px) {
  .cards {
    gap: 20px;
  }

  .cards .card-link:not(:last-child)::after {
    margin: 16px auto 0;
    max-width: 150px;
  }
}
.card {
  border: 1px solid var(--rule);
  padding: 12px;
  background: var(--paper);
  position: relative;
}
/* Bordes ASCII decorativos en las esquinas */
.card::before {
  content: "╔════";
  position: absolute;
  top: -1px;
  left: -1px;
  color: var(--muted);
  font-size: 10px;
  line-height: 1;
  opacity: 0.6;
}
.card::after {
  content: "════╗";
  position: absolute;
  top: -1px;
  right: -1px;
  color: var(--muted);
  font-size: 10px;
  line-height: 1;
  opacity: 0.6;
}
.progress {
  height: 8px;
  background: transparent;
  border: 1px solid var(--ink);
  position: relative;
  overflow: hidden;
}
.progress > i {
  display: block;
  height: 100%;
  width: var(--w, 50%);
  background: var(--ink);
  transition: width 1s ease;
}

/* ===== FOOTER / TOGGLE ===== */
.footer {
  font-size: 12px;
  color: var(--muted);
  padding: 28px 0 40px;
}
.toggle {
  border: 1px solid var(--ink);
  background: transparent;
  color: var(--ink);
  padding: 6px 10px;
  font-weight: 700;
  cursor: pointer;
  font-family: var(--mono);
  transition: all 0.15s ease;
}
.toggle:hover {
  background: var(--ink);
  color: var(--paper);
}
.toggle:focus-visible {
  outline: 2px solid var(--ink);
  outline-offset: 2px;
}

/* === Descripción truncada y altura uniforme === */
.desc {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  min-height: calc(1.45em * 3); /* mantiene altura pareja en las cards */
}

.card {
  min-height: 160px;
  transition: all 0.2s ease;
  will-change: transform;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-color: var(--ink);
}
.card:hover::before,
.card:hover::after {
  opacity: 1;
  color: var(--ink);
}

.card-link {
  display: block;
  color: inherit;
  text-decoration: none;
  transition: all 0.15s ease;
  border: none;
  padding: 0;
}
.card-link::before {
  content: none;
}
.card-link:hover,
.card-link:focus-visible {
  transform: translateY(-1px);
  box-shadow: none;
  outline: none;
}

/* Mejora visual para las secciones */
.section-title {
  position: relative;
  margin: 24px 0 16px;
}

.section-title h2 {
  margin: 0 0 8px 0;
  font-size: 18px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

/* ===== ASCII DECORATION UTILITIES ===== */
.ascii-banner {
  text-align: center;
  font-size: 10px;
  line-height: 1;
  color: var(--muted);
  margin-bottom: 12px;
  opacity: 0.7;
  overflow-x: auto;
  overflow-y: hidden;
  white-space: nowrap;
  -webkit-overflow-scrolling: touch;
}

.ascii-banner::-webkit-scrollbar {
  height: 0px;
}

.ascii-separator {
  font-size: 10px;
  line-height: 1;
  color: var(--rule);
  margin: 20px 0 12px 0;
  opacity: 0.5;
  overflow-x: auto;
  white-space: nowrap;
}

.ascii-separator::-webkit-scrollbar {
  height: 0px;
}

.ascii-box-header {
  font-size: 11px;
  line-height: 1;
  color: var(--muted);
  margin-bottom: 8px;
  opacity: 0.7;
  overflow-x: auto;
  white-space: nowrap;
}

.ascii-box-header::-webkit-scrollbar {
  height: 0px;
}

/* ===== SEPARADORES DE SECCIÓN ===== */
.section-divider {
  text-align: center;
  margin: 20px 0 16px;
}

.section-divider-dots {
  font-size: 8px;
  color: var(--muted);
  opacity: 0.4;
  letter-spacing: 0.2em;
}

.section-divider-major {
  text-align: center;
  margin: 24px 0 20px;
}

.section-divider-label {
  font-size: 9px;
  color: var(--muted);
  margin: 8px 0;
  opacity: 0.6;
  letter-spacing: 0.15em;
}

/* Responsive para separadores */
@media (max-width: 480px) {
  .section-divider {
    margin: 16px 0 12px;
  }

  .section-divider-dots {
    font-size: 7px;
  }

  .section-divider-major {
    margin: 20px 0 16px;
  }

  .section-divider-label {
    font-size: 8px;
  }
}

/* ===== MOBILE COMPREHENSIVE FIXES ===== */

/* ASCII 3D Container - Mobile optimizado */
.ascii-3d-container {
  width: 100%;
  height: 280px;
  position: relative;
  overflow: hidden;
}

@media (max-width: 768px) {
  .ascii-3d-container {
    height: 220px;
  }
}

@media (max-width: 480px) {
  .ascii-3d-container {
    height: 180px;
  }
}

/* ===== INLINE ASCII DECORATIONS - MOBILE OVERFLOW FIX ===== */
/* Ocultar desbordamiento de decoraciones ASCII inline */
@media (max-width: 768px) {
  /* Contenedor principal para decoraciones ASCII */
  div[style*="═══"],
  div[style*="╔══"],
  div[style*="╚══"],
  div[style*="────"],
  div[style*="┌─"],
  div[style*="└─"] {
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    max-width: 100%;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  div[style*="═══"]::-webkit-scrollbar,
  div[style*="╔══"]::-webkit-scrollbar,
  div[style*="╚══"]::-webkit-scrollbar,
  div[style*="────"]::-webkit-scrollbar,
  div[style*="┌─"]::-webkit-scrollbar,
  div[style*="└─"]::-webkit-scrollbar {
    display: none;
  }
}

@media (max-width: 480px) {
  /* Reducir tamaño de ASCII decorations en móvil pequeño */
  div[style*="font-size: 10px"][style*="═══"],
  div[style*="font-size: 11px"][style*="═══"],
  div[style*="font-size: 10px"][style*="╔══"],
  div[style*="font-size: 11px"][style*="╔══"] {
    font-size: 7px !important;
  }
}

/* ===== HEADER MOBILE IMPROVEMENTS ===== */
@media (max-width: 600px) {
  .header {
    padding: 14px 12px;
  }

  /* Botones del header en columna */
  .header
    > div[style*="display: flex"][style*="justify-content: space-between"] {
    flex-direction: column !important;
    gap: 10px !important;
  }

  .header > div[style*="display:flex"][style*="justify-content:space-between"] {
    flex-direction: column !important;
    gap: 10px !important;
  }

  /* Badge centrado */
  .header .badge {
    align-self: flex-start;
  }

  /* Contenedor de botones */
  .header > div > div[style*="display: flex"],
  .header > div > div[style*="display:flex"] {
    flex-wrap: wrap !important;
    gap: 6px !important;
    justify-content: center !important;
  }
}

@media (max-width: 480px) {
  .header {
    padding: 12px 10px;
  }

  .logoX {
    width: 70px;
    margin-bottom: 8px;
  }

  .top-marks {
    flex-direction: column;
    align-items: center;
    gap: 2px;
    font-size: 9px;
  }

  .bar {
    margin: 10px 0 4px;
  }

  .title {
    font-size: clamp(16px, 5vw, 24px);
    margin: 4px 0;
  }

  .kicker {
    font-size: 10px;
    letter-spacing: 0.08em;
  }

  /* Botones de toggle más compactos */
  .toggle {
    padding: 6px 8px;
    font-size: 11px;
    min-width: auto;
  }

  .badge {
    font-size: 10px;
    padding: 3px 6px;
  }
}

/* ===== SPECIALTIES TABLE MOBILE ===== */
@media (max-width: 600px) {
  .table td {
    padding: 8px 6px;
  }

  .table .dotfill {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
  }

  .table .dotfill i {
    display: none;
  }

  .table .dotfill span {
    white-space: normal;
    word-wrap: break-word;
  }
}

/* ===== BLOG/UPDATES SECTION MOBILE ===== */
@media (max-width: 600px) {
  /* Blog entries container */
  #blog {
    max-width: 100%;
    overflow-x: hidden;
  }

  #blog .card,
  #blog a.card-link {
    width: 100%;
    box-sizing: border-box;
  }

  #blog .dotfill {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
  }

  #blog .dotfill i {
    display: none;
  }
}

@media (max-width: 480px) {
  #blog .card {
    padding: 10px;
    min-height: auto;
  }

  #blog .desc {
    font-size: 12px;
    -webkit-line-clamp: 2;
  }
}

/* ===== PROJECTS SECTION MOBILE ===== */
@media (max-width: 600px) {
  #projects {
    max-width: 100%;
    overflow-x: hidden;
  }

  #projects .card,
  #projects a.card-link,
  #project-list .card,
  #project-list a.card-link {
    width: 100%;
    box-sizing: border-box;
  }

  .cards {
    gap: 16px;
  }
}

@media (max-width: 480px) {
  #projects .card,
  #project-list .card {
    padding: 10px;
    min-height: 120px;
  }

  #projects .desc,
  #project-list .desc {
    font-size: 12px;
    -webkit-line-clamp: 2;
  }

  .cards {
    gap: 14px;
  }
}

/* ===== PROJECT DETAIL PAGE MOBILE ===== */
@media (max-width: 600px) {
  #project-banner {
    min-height: 200px !important;
  }

  #project-banner img {
    max-height: 250px;
    object-fit: contain;
  }

  #project-tags {
    gap: 6px !important;
  }

  #project-tags .badge {
    font-size: 10px;
    padding: 3px 6px;
  }

  #project-links {
    flex-direction: column !important;
    gap: 8px !important;
  }

  #project-links .block {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 480px) {
  #project-banner {
    min-height: 160px !important;
  }

  #project-summary-card,
  #project-body,
  #project-links-card {
    padding: 10px;
  }

  #project-description {
    font-size: 13px !important;
  }
}

/* ===== BLOCK LINKS MOBILE ===== */
@media (max-width: 480px) {
  .block {
    padding: 6px 10px;
    font-size: 12px;
    word-break: break-word;
  }

  a.block {
    display: block;
    text-align: center;
  }
}

/* ===== FOOTER MOBILE ===== */
@media (max-width: 480px) {
  .footer {
    padding: 20px 0 30px;
  }

  .footer > div[style*="display: inline-block"],
  .footer > div > div[style*="display: inline-block"] {
    display: block !important;
    padding: 8px 12px !important;
  }

  .footer .top-marks {
    flex-direction: column;
    gap: 4px;
  }

  .footer .top-marks span[style*="margin-left"] {
    margin-left: 0 !important;
  }
}

/* ===== PREVENT HORIZONTAL OVERFLOW ===== */
html,
body {
  overflow-x: hidden;
  max-width: 100vw;
}

main.container {
  overflow-x: hidden;
  max-width: 100%;
}

/* Ensure all sections respect container width */
section {
  max-width: 100%;
  overflow-x: hidden;
}

/* ===== 3D MODEL BANNER MOBILE ===== */
@media (max-width: 600px) {
  #project-banner-3d,
  .ascii-3d-container#project-banner-3d {
    height: 240px !important;
  }

  #banner-model-container {
    height: 240px !important;
  }
}

@media (max-width: 480px) {
  #project-banner-3d,
  .ascii-3d-container#project-banner-3d {
    height: 200px !important;
  }

  #banner-model-container {
    height: 200px !important;
  }

  /* Toggle button for 3D/image */
  #project-banner .toggle {
    font-size: 10px;
    padding: 4px 8px;
    top: 6px !important;
    right: 6px !important;
  }
}

/* ===== PHILOSOPHY BOX MOBILE ===== */
@media (max-width: 480px) {
  div[style*="SYSTEM PHILOSOPHY"] {
    font-size: 9px !important;
  }

  /* Philosophy container */
  section > div[style*="padding: 12px"] {
    padding: 10px !important;
    margin: 12px 0 !important;
  }

  section > div[style*="padding: 12px"] p {
    font-size: 12px !important;
  }
}

/* ========================================
   TUI SOBRECARGADA - NUEVOS COMPONENTES
   ======================================== */

/* ===== WINDOW COMPONENT - ESTILO TERMINAL ===== */
.window {
  background: var(--paper);
  border: 1px solid var(--rule);
  position: relative;
  margin: 16px 0;
}

.window-titlebar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 10px;
  background: var(--ink);
  color: var(--paper);
  font-size: var(--font-small);
  font-weight: 700;
  letter-spacing: 0.05em;
  border-bottom: 1px solid var(--rule);
}

.window-title {
  display: flex;
  align-items: center;
  gap: 8px;
}

.window-title::before {
  content: "■";
  font-size: 8px;
}

.window-controls {
  display: flex;
  gap: 4px;
  font-size: var(--font-tiny);
}

.window-btn {
  padding: 2px 4px;
  background: transparent;
  border: none;
  color: var(--paper);
  cursor: default;
  font-family: var(--mono);
  font-size: var(--font-micro);
  opacity: 0.7;
  transition: opacity 0.15s ease;
}

.window-btn:hover {
  opacity: 1;
}

.window-content {
  padding: 12px;
}

.window-footer {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 8px;
  padding: 4px 10px;
  font-size: var(--font-micro);
  color: var(--muted);
  border-top: 1px solid var(--rule);
  background: var(--bg);
}

/* Responsive window */
@media (max-width: 768px) {
  .window-controls {
    display: none;
  }
  .window-titlebar {
    justify-content: center;
  }
  .window-footer {
    justify-content: center;
    text-align: center;
  }
}

@media (max-width: 480px) {
  .window-titlebar {
    padding: 3px 8px;
    font-size: var(--font-tiny);
  }
  .window-content {
    padding: 10px;
  }
  .window-footer {
    flex-direction: column;
    align-items: center;
    gap: 4px;
  }
}

/* ===== SYSTEM STATUS BAR ===== */
.system-status-bar {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 12px;
  padding: 6px 12px;
  background: var(--bg);
  border: 1px solid var(--rule);
  font-size: var(--font-micro);
  color: var(--muted);
  margin-bottom: 16px;
}

.status-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.status-indicator {
  width: 6px;
  height: 6px;
  background: var(--tech-green);
  animation: pulse-indicator 2s ease-in-out infinite;
}

.status-indicator.warning {
  background: var(--tech-amber);
}
.status-indicator.error {
  background: var(--tech-red);
}
.status-indicator.offline {
  background: var(--muted);
  animation: none;
}

@keyframes pulse-indicator {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.4;
  }
}

/* Responsive status bar */
@media (max-width: 768px) {
  .system-status-bar {
    justify-content: center;
    gap: 8px 16px;
  }
}

@media (max-width: 480px) {
  .system-status-bar {
    flex-direction: column;
    align-items: center;
    gap: 4px;
    padding: 4px 8px;
    font-size: 8px;
  }
}

/* ===== SPEC SHEET - FICHA TÉCNICA ===== */
.spec-sheet {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  padding: 12px;
  background: var(--paper);
  border: 1px solid var(--rule);
}

.spec-field {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.spec-field-label {
  font-size: var(--font-micro);
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.spec-field-value {
  font-size: 12px;
  font-weight: 700;
}

/* Responsive spec sheet */
@media (max-width: 480px) {
  .spec-sheet {
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    padding: 8px;
  }
  .spec-field-label {
    font-size: 8px;
  }
  .spec-field-value {
    font-size: 11px;
  }
}

/* ===== TECH DIVIDER - SEPARADOR TÉCNICO ===== */
.tech-divider {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 20px 0;
  font-size: var(--font-micro);
  color: var(--muted);
}

.tech-divider::before,
.tech-divider::after {
  content: "";
  flex: 1;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--rule), transparent);
}

.tech-divider-label {
  padding: 2px 12px;
  border: 1px solid var(--rule);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  white-space: nowrap;
}

/* ===== BRACKET LIST - LISTA CON CORCHETES ===== */
.bracket-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.bracket-list li {
  padding: 6px 0;
  border-bottom: 1px dotted var(--rule);
  display: flex;
  align-items: center;
}

.bracket-list li::before {
  content: "[";
  margin-right: 4px;
  color: var(--muted);
  font-weight: 700;
}

.bracket-list li::after {
  content: "]";
  margin-left: 4px;
  color: var(--muted);
  font-weight: 700;
}

.bracket-list li:last-child {
  border-bottom: none;
}

/* ===== ASCII FRAME - MARCO ASCII ===== */
.ascii-frame {
  position: relative;
  padding: 16px;
  margin: 16px 0;
}

.ascii-frame::before {
  content: "┌" attr(data-label) "─────────────────────────────────────────────┐";
  position: absolute;
  top: 0;
  left: 0;
  font-size: var(--font-tiny);
  color: var(--muted);
  opacity: 0.6;
  white-space: nowrap;
  overflow: hidden;
}

.ascii-frame::after {
  content: "└──────────────────────────────────────────────────────────────┘";
  position: absolute;
  bottom: 0;
  left: 0;
  font-size: var(--font-tiny);
  color: var(--muted);
  opacity: 0.6;
  white-space: nowrap;
  overflow: hidden;
}

/* ===== ASCII DIAGRAM CONTAINER ===== */
.ascii-diagram {
  font-family: var(--mono);
  font-size: var(--font-tiny);
  line-height: 1.1;
  color: var(--muted);
  white-space: pre;
  overflow-x: auto;
  padding: 12px;
  background: var(--bg);
  border: 1px solid var(--rule);
  margin: 16px 0;
  opacity: 0.7;
}

.ascii-diagram::-webkit-scrollbar {
  height: 4px;
}

.ascii-diagram::-webkit-scrollbar-thumb {
  background: var(--rule);
}

/* Ocultar en móvil pequeño */
@media (max-width: 480px) {
  .ascii-diagram {
    display: none;
  }
}

/* ===== PANEL CARD - MODIFICACIÓN DE CARDS ===== */
.card[data-panel-id] {
  padding: 0;
}

.card[data-panel-id]::before {
  content: attr(data-panel-id) " ───────────────────────────";
  display: block;
  padding: 4px 10px;
  background: var(--ink);
  color: var(--paper);
  font-size: var(--font-micro);
  font-weight: 700;
  letter-spacing: 0.05em;
  position: static;
  opacity: 1;
  white-space: nowrap;
  overflow: hidden;
}

.card[data-panel-id]::after {
  content: "";
  display: none;
}

.card[data-panel-id] .card-content {
  padding: 12px;
}

/* ===== TERMINAL PROMPT MEJORADO ===== */
.terminal-prompt::before {
  content: "> ";
  color: var(--tech-green);
  font-weight: 700;
}

.terminal-prompt-alt::before {
  content: "$ ";
  color: var(--tech-cyan);
  font-weight: 700;
}

.terminal-prompt-hash::before {
  content: "# ";
  color: var(--tech-amber);
  font-weight: 700;
}

/* ===== DATA DISPLAY - DATOS TÉCNICOS ===== */
.data-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 0;
  border-bottom: 1px dotted var(--rule);
  font-size: var(--font-small);
}

.data-row:last-child {
  border-bottom: none;
}

.data-label {
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: var(--font-micro);
}

.data-value {
  font-weight: 700;
  font-family: var(--mono);
}

/* ===== ACCESIBILIDAD TUI ===== */
@media (prefers-reduced-motion: reduce) {
  .status-indicator,
  .pulse-indicator {
    animation: none !important;
  }
}

/* Elementos decorativos ocultos para screen readers */
.ascii-diagram[aria-hidden="true"],
.ascii-frame[aria-hidden="true"] {
  user-select: none;
}

/* Focus visible mejorado para TUI */
:focus-visible {
  outline: 2px solid var(--tech-cyan);
  outline-offset: 2px;
}
